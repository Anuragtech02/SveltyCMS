---
path: 'docs/Dev_Guide/07_Widgets/README.mdx'
title: 'Widget System Documentation'
description: 'Complete widget system documentation covering content widgets, dashboard widgets, and marketplace'
order: 70
icon: 'mdi:widgets'
author: 'admin'
created: '2025-08-05'
updated: '2025-10-02'
tags:
  - 'developer'
  - 'widgets'
  - 'documentation'
  - 'system'
---

# Widget System Documentation

SveltyCMS features a comprehensive widget system with two distinct types of widgets and a marketplace for extensibility.

## 🧩 Widget System Overview

### Two Widget Types

#### 📝 Content Widgets (`src/widgets/`)

**Purpose**: Form components for data input and content management

- **Location**: `src/widgets/core/` and `src/widgets/custom/`
- **Usage**: Collection forms, content creation/editing
- **Examples**: Input, RichText, MediaUpload, Date Picker
- **Management**: Via `/config/widgetManagement`

Note: The core `Input` widget has been consolidated to handle common input types (text, email, number, phone) via an `inputType` option. Validation is centralized in the core widget and uses `minLength`/`maxLength` as the canonical length/bounds settings. The `Date` widget also supports both date-only and date+time via a `timePicker` option (no separate `DateTime` widget is required).

#### 📊 Dashboard Widgets (`src/routes/(app)/dashboard/widgets/`)

**Purpose**: Display components for system monitoring and analytics

- **Location**: `src/routes/(app)/dashboard/widgets/`
- **Usage**: Dashboard displays, system metrics
- **Examples**: CPU Widget, Memory Widget, User Activity
- **Management**: Via dashboard configuration

## 📚 Documentation Structure

### Content Widget Documentation

- **[Content Widget Development](./Content_Widget_Development.mdx)** - Creating form widgets
- **[Widget Management System](./Widget_Management_System.mdx)** - Core widget architecture
- **[Widget Marketplace System](./Widget_Marketplace_System.mdx)** - Marketplace integration

Quick changes since earlier docs:

- The widget factory now accepts `validationSchema` as either a static Valibot schema _or_ a function that receives the created `FieldInstance` and returns a schema. This allows widget validation to be context-aware when necessary.
- The Three-Pillars pattern (Definition / Input / Display) remains the recommended architecture for content widgets. The factory emits a `widget` (definition) and each widget should provide a light-weight `Display` component for list rendering and a richer `Input` component for editing.

### Dashboard Widget Documentation

- **[Dashboard Widgets](../11_Dashboard/)** - System monitoring widgets
- **[Dashboard Configuration](../11_Dashboard/)** - Widget layout and settings

## 🏗️ Architecture Comparison

### Content Widgets Architecture

```
src/widgets/
├── core/                    # Core widgets (always enabled)
│   ├── input/              # Text input
│   ├── richText/           # Rich text editor
│   ├── mediaUpload/        # File upload
│   └── ...
├── custom/                 # Custom widgets (optional)
│   ├── colorPicker/        # Color selection
│   ├── currency/           # Currency input
│   └── ...
└── index.ts               # Widget registry
```

### Dashboard Widgets Architecture

```
src/routes/(app)/dashboard/
├── +page.svelte           # Main dashboard page
├── BaseWidget.svelte      # Base widget component
└── widgets/               # Dashboard widgets
    ├── CPUWidget.svelte
    ├── MemoryWidget.svelte
    ├── UserOnlineWidget.svelte
    └── ...
```

## 🔧 Management Interfaces

### Content Widget Management

- **Location**: `/config/widgetManagement`
- **Component**: `WidgetDashboard.svelte`
- **Features**:
  - Activate/deactivate content widgets
  - Browse marketplace for new widgets
  - Install/uninstall marketplace widgets
  - Dependency management
  - Collection validation

### Dashboard Widget Management

- **Location**: `/dashboard` (built-in configuration)
- **Features**:
  - Drag-and-drop layout
  - Widget addition/removal
  - Layout switching
  - Persistent configurations

## 🏪 Marketplace Integration

### Content Widget Marketplace

The marketplace allows users to:

- **🔍 Discover** new content widgets
- **💾 Install** widgets to their tenant
- **⚡ Activate** widgets for use in collections
- **🔄 Update** widgets to latest versions
- **🗑️ Uninstall** unused widgets

### Marketplace Categories

- **📱 Forms & Input** - Advanced form controls
- **🎨 Media & Gallery** - Image/video management
- **💰 E-commerce** - Product, payment widgets
- **📊 Analytics** - Charts, metrics widgets
- **🌐 Social** - Social media integration
- **🔧 Productivity** - Calendar, task widgets

## 🎯 Usage Scenarios

### Content Widget Usage

```typescript
// In collection schema
{
  fields: {
    title: {
      widget: 'input',
      label: 'Post Title',
      required: true
    },
    content: {
      widget: 'richText',
      label: 'Post Content'
    },
    thumbnail: {
      widget: 'mediaUpload',
      label: 'Featured Image',
      accept: 'image/*'
    },
    price: {
      widget: 'currency',  // From marketplace
      label: 'Price',
      currency: 'USD'
    }
  }
}
```

### Dashboard Widget Usage

```typescript
// Dashboard configuration
{
	layout: [
		{ widget: 'CPUWidget', position: { x: 0, y: 0, w: 2, h: 1 } },
		{ widget: 'MemoryWidget', position: { x: 2, y: 0, w: 2, h: 1 } },
		{ widget: 'UserOnlineWidget', position: { x: 0, y: 1, w: 4, h: 2 } }
	];
}
```

## 🔐 Security & Multi-Tenancy

### Content Widget Security

- **Tenant Isolation**: Each tenant has isolated widget installations
- **Permission Control**: Role-based widget management access
- **Marketplace Validation**: Security checks for marketplace widgets
- **Dependency Management**: Automatic dependency resolution

### Dashboard Widget Security

- **User-Specific**: Dashboard layouts per user
- **Role-Based**: Different widgets for different roles
- **Data Isolation**: Tenant-specific data in widgets

## 🛠️ Development Workflows

### Creating Content Widgets

1. **Setup**: Create widget directory structure
2. **Component**: Develop Svelte component
3. **Configuration**: Define widget schema
4. **Registration**: Add to widget registry
5. **Testing**: Unit and integration tests
6. **Documentation**: Widget documentation

### Creating Dashboard Widgets

1. **Component**: Create dashboard widget component
2. **Integration**: Add to dashboard system
3. **Configuration**: Define widget metadata
4. **Layout**: Implement drag-and-drop support
5. **Data**: Connect to data sources
6. **Testing**: Dashboard integration tests

## 📋 Quick Reference

### Content Widget Commands

```bash
# Create new content widget
mkdir src/widgets/custom/myWidget
cd src/widgets/custom/myWidget

# Widget files
touch MyWidget.svelte      # Main component
touch index.ts            # Widget factory
touch types.ts            # TypeScript definitions
```

### Dashboard Widget Commands

```bash
# Create new dashboard widget
touch src/routes/(app)/dashboard/widgets/MyDashboardWidget.svelte

# Register in dashboard
# Add to widget list in dashboard configuration
```

### API Endpoints

```bash
# Content widget management
GET /api/widgets/installed
POST /api/widgets/install
POST /api/widgets/uninstall
GET /api/marketplace/widgets

# Dashboard widgets (built-in management)
# No separate API - managed through dashboard interface
```

## 🔗 Related Documentation

- **[Project Structure](../01-setup/project-structure.mdx)** - Overall codebase organization
- **[API Development](../04-api/)** - Creating widget APIs
- **[Testing](../15_Testing/)** - Widget testing strategies
- **[Security](../14_Security/)** - Widget security considerations

---

This documentation provides complete coverage of both widget systems in SveltyCMS, from development to marketplace integration and management.
